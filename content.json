{"meta":{"title":"Jo's Note","subtitle":null,"description":null,"author":"Jo","url":"http://jodotlearn.github.io"},"pages":[],"posts":[{"title":"[CentOS 7] SVN Server 架設","slug":"CentOS-7-SVN-Server-架設","date":"2018-01-07T16:38:09.000Z","updated":"2018-01-08T16:04:13.000Z","comments":true,"path":"Linux/CentOS-7-SVN-Server-架設/","link":"","permalink":"http://jodotlearn.github.io/Linux/CentOS-7-SVN-Server-架設/","excerpt":"前言 這個架設筆記使用的環境是 CentOS 7， 在 CentOS 7 中的 subversion 版本比較低，所以另外尋找其他的 repository 來安裝，在這選擇的版本是 1.8，登入驗證的部分是設定跟 AD 認證 (也可以跟 ldap，之後再補充)","text":"前言 這個架設筆記使用的環境是 CentOS 7， 在 CentOS 7 中的 subversion 版本比較低，所以另外尋找其他的 repository 來安裝，在這選擇的版本是 1.8，登入驗證的部分是設定跟 AD 認證 (也可以跟 ldap，之後再補充) 安裝 準備 subversion 來源 在 /etc/yum.repos.d/ 下建立一個 repo 檔 cd /etc/yum.repos.dvi CentOS-SVN.repo 貼上以下內容後存檔 [WandiscoSVN]name=Wandisco SVN Repobaseurl=http://opensource.wandisco.com/centos/7/svn-1.8/RPMS/$basearch/enabled=1gpgcheck=1 完成後執行一下 update yum update 安裝需要的套件 apache yum install httpd subversion 及需要的套件 yum install subversion mod_dav_svn apache ldap module (SVN 的認證是跟 AD 或 LDAP 認證) yum install mod_ldap 配置 建立放檔案庫的目錄 cd /optmkdir -p svn/svnrootchown -R apache:apache svn 編輯設定檔 cd /etc/httpd/conf.dvi subversion.conf 修改 檔案裡的 區塊 &lt;Location /svn&gt; DAV svn SVNParentPath /opt/svn/svnroot AuthBasicProvider ldap AuthType Basic AuthName \"SVN Auth. (AD)\" AuthLDAPBindDN \"登入AD的DN\" AuthLDAPBindPassword \"登入AD的密碼\" AuthDLAPURL \" ldap://xxx.xxx.xxx.xxx:3268/根節點?sAMAccountName?sub?(objectClass=user)\" AuthzForceUsernameCase lower AuthzSVNReposRelativeAccessFile authz Require valid-user Allow from all&lt;/Location&gt; 關閉 SELinux 編輯 /etc/sysconfig/selinux vi /etc/sysconfig/selinux 將 SELINUX 改為 disabled，並註解 SELINUXTYPE # This file controls the state of SELinux on the system.# SELINUX= can take one of these three values:# enforcing - SELinux security policy is enforced.# permissive - SELinux prints warnings instead of enforcing.# disabled - No SELinux policy is loaded.SELINUX=disabled# SELINUXTYPE= can take one of three two values:# targeted - Targeted processes are protected,# minimum - Modification of targeted policy. Only selected processes are protected.# mls - Multi Level Security protection.#SELINUXTYPE=targeted 防火牆設定 firewall-cmd -add-port=80/tcp --permanentfirewall-cmd --reload 設定隨開機啟動 systemctl enable httpd.service 執行服務 systemctl start httpd.service 後記 到這邊都還順利的話，算是已經 將服務架設好了，在 /opt/svn/svnroot/ 下透過 svn 指令建立 repository 和設定權限後即可開始使用。","categories":[{"name":"Linux","slug":"Linux","permalink":"http://jodotlearn.github.io/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://jodotlearn.github.io/tags/Linux/"},{"name":"Subversion","slug":"Subversion","permalink":"http://jodotlearn.github.io/tags/Subversion/"}]}]}